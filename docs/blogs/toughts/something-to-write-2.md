---
category: life
date: 2024-12-06 04:56
tags:
  - Thoughts
icon: /assets/icons/nixos.png
---

![](/assets/icons/life_1.png)

# 随想（其二）- NixOS

说真的，自从年初数次尝试在**ArchLinux**上安装一个能正常运行的**Nvidia**驱动却均以失败告终后，我便不对在我的弱核显笔记本上刷linux发行版抱有多大希望了。

但奈何在**Windows**上的开发体验实在是太糟糕了——系统的高内存占用，许多我需要的项目仅兼容linux，以及混乱无比的包管理器。

作为一个有洁癖的人（看向我那与**Windows**文件系统的混乱程度不分伯仲的房间，这值得质疑），我几乎每半年都要重装一次**Windows**系统，不为别的，就单纯整理一波各种程序及其配置。

有朋友向我推荐过**WSL2**，或者直接开个虚拟机（我发现**VMWare Workstation Pro**已经对个人用户完全免费了），但我几乎完全接受不了——我总觉得那里有奇怪的，黑箱式的，我看不到的一些神必东西在作祟，我感觉到某些东西是*impure*的，导致了我有一种满身是虫子在爬的感觉——我要被这种感觉逼疯了。

好在这个让我无比屈辱与悲哀的时代结束了——在朋友的强烈推荐下我尝试了**NixOS**，我有点相见恨晚：几行简单的UTLC式的配置文件就能瞬间帮我搞好N卡驱动，无论我搞崩多少次系统总能让我回滚到上一个能正常运行的系统构建，以及最重要的是——我能进行一种运动，即通过**home-manager**以及一系列pkgs实现完全由**NixOS**的配置管理整个系统：包括任何应用及其配置！————这让我连续高潮了好几天（即使在[**plasma-manager**](https://github.com/nix-community/plasma-manager)上的屡屡受挫也未尝能停止我这种感觉）。

哦！我的天啊！一个完全由我自己搭建出来的，完全可复现的，处处能看得到的，一个不那么黑箱的系统！

不过我深刻地认识到了进行这运动是何其的困难，它同样的让我感觉到了屈辱与悲哀（但绝没有Windows留给我的那种浑身是虫子在爬的感觉！）——— 我将所有非云配置的常用软件都配置好了，云配置的我暂时不用也不想管。

我说的实在是有点激动，[这里是我的NixOS配置](https://github.com/Glomzzz/NixOS)，我还准备写一系列NixOS入门教程。

如前文所说，我目前卡到了管理**KDE Plasma 6**的配置上——Nix社区内有一个用来管理其配置的包，[**plasma-manager**](https://github.com/nix-community/plasma-manager)，但其糟糕的可调试性以及不能正常运作的功能令我不安，我花了好一阵子才搞清楚，通过这个包配置出来的panels是会受各种状态影响的————这令我不安，我想让它的配置唯一决定KDE配置，但它内部有黑箱似的序列化过程，导致了我的配置不能很好的对应到KDE配置上，引发了各种奇葩bug。


目前我想重写一个[**plasma-manager**](https://github.com/nix-community/plasma-manager)出来，（又挖坑了。）

顺带一提，我发现[**Lyricify**](https://github.com/WXRIW/Lyricify-App)不支持**Linux**，作者倒是有做过一个用wine跑的项目，但已经无法正常工作且常年失修了————所以我也打算写一个兼容**Linux**的**Spotify**歌词软件。

